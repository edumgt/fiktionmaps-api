-- Table: public.app_user

-- DROP TABLE IF EXISTS public.app_user;

CREATE TABLE IF NOT EXISTS public.app_user
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    name character varying(255) COLLATE pg_catalog."default",
    created_at timestamp without time zone,
    email character varying(255) COLLATE pg_catalog."default" NOT NULL,
    external_user_id character varying(255) COLLATE pg_catalog."default" NOT NULL,
    role character varying(255) COLLATE pg_catalog."default" NOT NULL,
    updated_at timestamp without time zone,
    CONSTRAINT app_user_pkey PRIMARY KEY (id),
    CONSTRAINT uk_ljwlj3ck8a4tlv23wdwo8f7hc UNIQUE (external_user_id)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.app_user
    OWNER to francisco;

-- Table: public.cities

-- DROP TABLE IF EXISTS public.cities;

CREATE TABLE IF NOT EXISTS public.cities
(
    id bigint NOT NULL,
    code character varying(255) COLLATE pg_catalog."default",
    latitude double precision,
    longitude double precision,
    name character varying(255) COLLATE pg_catalog."default",
    place_id character varying(255) COLLATE pg_catalog."default",
    provider character varying(255) COLLATE pg_catalog."default",
    CONSTRAINT cities_pkey PRIMARY KEY (id)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.cities
    OWNER to francisco;

-- Table: public.fictions

-- DROP TABLE IF EXISTS public.fictions;

CREATE TABLE IF NOT EXISTS public.fictions
(
    id bigint NOT NULL,
    name character varying(255) COLLATE pg_catalog."default",
    type character varying(255) COLLATE pg_catalog."default",
    externalId character varying(255) COLLATE pg_catalog."default",
    year int,
    duration int,
    img_url character varying(255) COLLATE pg_catalog."default",
    CONSTRAINT fictions_pkey PRIMARY KEY (id)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.fictions
    OWNER to francisco;

-- Table: public.locations

-- DROP TABLE IF EXISTS public.locations;

CREATE TABLE IF NOT EXISTS public.locations
(
    id bigint NOT NULL,
    formatted_address character varying(255) COLLATE pg_catalog."default",
    post_code character varying(255) COLLATE pg_catalog."default",
    latitude double precision,
    longitude double precision,
    type character varying(255) COLLATE pg_catalog."default",
    name character varying(255) COLLATE pg_catalog."default",
    place_id character varying(255) COLLATE pg_catalog."default",
    provider character varying(255) COLLATE pg_catalog."default",
    city_id bigint,
    CONSTRAINT locations_pkey PRIMARY KEY (id),
    CONSTRAINT ukh188gxr4tykoyh21bduig8yte UNIQUE (place_id),
    CONSTRAINT fkgvg10vlf7gqvbgf9rbbho3gyg FOREIGN KEY (city_id)
        REFERENCES public.cities (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.locations
    OWNER to francisco;

 -- Table: public.scenes

-- DROP TABLE IF EXISTS public.scenes;

CREATE TABLE IF NOT EXISTS public.scenes
(
    id bigint NOT NULL,
    description character varying(255) COLLATE pg_catalog."default",
    end_at bigint,
    episode_name character varying(255) COLLATE pg_catalog."default",
    episode_number character varying(255) COLLATE pg_catalog."default",
    name character varying(255) COLLATE pg_catalog."default",
    season character varying(255) COLLATE pg_catalog."default",
    segment_type character varying(255) COLLATE pg_catalog."default",
    start_at bigint,
    fiction_id bigint,
    location_id bigint,
    screen_shot character varying(255) COLLATE pg_catalog."default",

    user_id bigint NOT NULL,
    CONSTRAINT scenes_pkey PRIMARY KEY (id),
    CONSTRAINT fk5vwdm5v3582cj0whv2n4goje FOREIGN KEY (user_id)
        REFERENCES public.app_user (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
    CONSTRAINT fkjb4ucrn5pe7gsxw5u13qo13ta FOREIGN KEY (fiction_id)
        REFERENCES public.fictions (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
    CONSTRAINT fkrd12rc4cmrb2l9h1dmbk12ro6 FOREIGN KEY (location_id)
        REFERENCES public.locations (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.scenes
    OWNER to francisco;


INSERT INTO public.fictions(id, name, type, externalId, year, duration, img_url) VALUES (324, 'The girl of the dragon tattoo', 'MOVIE', 'tt1568346', 2011, 98, 'movie_covers/m_the_girl_of_the_dragon_tatto_2011.jpg');
INSERT INTO public.fictions(id, name, type, externalId, year, duration, img_url) VALUES (325, 'Wonder wheel', 'MOVIE', 'tt5825380', 2017, 81, 'movie_covers/m_wonder_wheel.jpg');

INSERT INTO public.app_user(id, name, created_at, email, external_user_id, role, updated_at) VALUES (1, 'Francisco Possetto', '2023-07-21 06:49:26.775077+00', 'franciscopossetto@gmail.com', 'q34sFFvbJegypmZbxugQ5B9sHHl1', 'ADMIN', '2023-07-21 06:49:26.775077+00');

INSERT INTO public.cities(id, latitude, longitude, name, place_id, provider) VALUES (1, 40.7127753, -74.0059728, 'New York', 'ChIJOwg_06VPwokRYv534QaPC8g', 'GOOGLE_MAPS');
INSERT INTO public.cities(id, latitude, longitude, name, place_id, provider) VALUES (4, 59.32932349999999,18.0685808, 'Stockholm', 'ChIJywtkGTF2X0YRZnedZ9MnDag', 'GOOGLE_MAPS');

INSERT INTO public.locations(id, post_code, formatted_address, latitude, longitude, type, name, place_id, provider, city_id) VALUES (6, '118 46', 'Sankt Paulsgatan 17, 118 46 Stockholm, Sweden', 59.31805509999999, 18.0673754,'CAFE', 'Kaffe', 'ChIJ_Qp85OR3X0YRt4lmUouTGPE', 'GOOGLE_MAPS', 4);
INSERT INTO public.locations(id, post_code, formatted_address, latitude, longitude, type, name, place_id, provider, city_id) VALUES (7, '11224', '1213 Riegelmann Boardwalk, Brooklyn, NY 11224', 40.57326, -73.98013999999999,'BAR', 'Ruby’s Bar And Grill', 'ChIJJVw-9jREwokRZx6ejxg835A', 'GOOGLE_MAPS', 1);
INSERT INTO public.locations(id, post_code, formatted_address, latitude, longitude, type, name, place_id, provider, city_id) VALUES (8, '11224', '801 Riegelmann Boardwalk, Brooklyn, NY 11224, USA', 40.5751417, -73.977632,'ROLLER_COASTER', 'The Cyclone Roller Coaster', 'ChIJXVNm2TVEwokRwkHm634rjvc', 'GOOGLE_MAPS', 1);
INSERT INTO public.locations(id, post_code, formatted_address, latitude, longitude, type, name, place_id, provider, city_id) VALUES (9, '11224', '1310 Surf Ave, Brooklyn, NY 11224, USA', 40.5754059, -73.9813286,'FAST_FOOD', 'Nathan’s Famous Hot Dogs', 'ChIJD9aJFTVEwokRtvxxa6xAQ5g', 'GOOGLE_MAPS', 1);
INSERT INTO public.locations(id, post_code, formatted_address, latitude, longitude, type, name, place_id, provider, city_id) VALUES (10, '11224', '1208 Surf Ave, Brooklyn, NY 11224, USA', 40.5754025, -73.9797681, 'BAR', 'The Freak Bar', 'ChIJFSKtoTVEwokR23zupCWc8jw', 'GOOGLE_MAPS', 1);
INSERT INTO public.locations(id, post_code, formatted_address, latitude, longitude, type, name, place_id, provider, city_id) VALUES (11, '11224', '3042 Jones Walk, Brooklyn, NY 11224, USA, USA', 40.5739159, -73.9790055, 'WONDER_WHEEL', 'Deno’s Wonder Wheel Amusement Park', 'ChIJuY7CTDREwokRTm4Xwt32oCM', 'GOOGLE_MAPS', 1);

INSERT INTO public.scenes(id, name, description, episode_name, episode_number, season, segment_type, start_at, end_at, fiction_id, location_id, screen_shot, user_id) VALUES (6, 'Mikael Blomkvist favorite cafe', 'Mikael Blomkvist favorite cafe', NULL, NULL, NULL, 'MINUTE',  3.23,4.56, 324, 6, null,  1);
INSERT INTO public.scenes(id, name, description, episode_name, episode_number, season, segment_type, start_at, end_at, fiction_id, location_id, screen_shot, user_id) VALUES (7, 'Scene in Ruby´s bar', 'This is the place where Ginny and Caroline work', NULL, NULL, NULL, 'MINUTE',  3.23,4.56, 325, 7, null, 1);
INSERT INTO public.scenes(id, name, description, episode_name, episode_number, season, segment_type, start_at, end_at, fiction_id, location_id, screen_shot, user_id)
VALUES (8, 'Gangsters'' Visit to Humpty', 'As Humpty works at the carousel, two gangsters seek him out, pressing questions about Caroline', NULL, NULL, NULL, 'MINUTE', 3.23, 4.56, 325, 8,'movie_scenes/m_wonder_wheel/s_wonder_wheel_9.jpg', 1);

INSERT INTO public.scenes(id, name, description, episode_name, episode_number, season, segment_type, start_at, end_at, fiction_id, location_id, screen_shot, user_id)
VALUES (9, 'Nathan’s Famous Hot Dogs', 'We can see Nathan’s Famous Hot Dogs in some scenes along the movie', NULL, NULL, NULL, 'MINUTE',  NULL, 4.56, 325, 9, null,  1);

INSERT INTO public.scenes(id, name, description, episode_name, episode_number, season, segment_type, start_at, end_at, fiction_id, location_id, screen_shot, user_id)
VALUES (10, 'Scene in the Freak bar', 'Mickey and Ginny go for a drink.', NULL, NULL, NULL, 'MINUTE',  NULL, NULL, 325, 11,'movie_scenes/m_wonder_wheel/s_wonder_wheel_10.jpg', 1);

INSERT INTO public.scenes(id, name, description, episode_name, episode_number, season, segment_type, start_at, end_at, fiction_id, location_id, screen_shot, user_id)
VALUES (11, 'Caroline opening scene', 'First Caroline scene', NULL, NULL, NULL, 'MINUTE',  NULL, 4.56, 325, 10, 'movie_scenes/m_wonder_wheel/s_wonder_wheel_11.jpg',  1);
